<section  class="container my-5 rounded-2  mx-auto">
    <h1 class="h3 text-main">login Now :</h1>

        <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">

            <div class="my-3">
                <label for ="email" class="top-40 position-relative transitionss" [class.top-40]="!email.length">E-Mail : </label>
                <input id="email" class="form-control shadow-none border-top-0 border-start-0 border-end-0 position-relative " type="email" formControlName="email" placeholder="E-Mail" [(ngModel)]="email" [ngClass]="{
                    'is-valid':!loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty ),
                    'is-invalid' :loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty )
                }">

                @if(loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty ) ){
                    @if(loginForm.get('email')?.getError('required')){
                        <p class="text-danger fw-bold text-capitalize mx-1">Email is required</p>
                    }
                   @else if (loginForm.get('email')?.getError('email')) {
                    <p class="text-danger fw-bold text-capitalize mx-1">Enter a valid email</p>
                   }
                 
                } </div>
            



            <div class="my-3">
                <label for ="password" class="top-40 position-relative transitionss" [class.top-40]="!password.length">Password : </label>
                <input id="password" class="form-control shadow-none border-top-0 border-start-0 border-end-0 position-relative " type="password" formControlName="password" placeholder="Password :"[(ngModel)]="password" [ngClass]="{
                    'is-valid':!loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty ),
                    'is-invalid':loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty )
                }">

                
            @if(loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty )){
                @if(loginForm.get('password')?.getError('required')){
                    <p class="text-danger fw-bold text-capitalize mx-1">password is required</p>
                }
               @else if (loginForm.get('password')?.getError('pattern')) {
                <p class="text-danger fw-bold text-capitalize mx-1">Enter a valid password number</p>
               }
             
            }

            @if(msgError){
                <p class="text-danger text-center fw-bold text-capitalize mx-1">{{msgError}}</p>

            }

           @if(msgSucess){
            <p class="text-success text-center fw-bold text-capitalize mx-1"> success </p>

           }
          <div class="d-flex align-items-center justify-content-between">
            <a routerLink="/forgot" class="link-primary cursor-pointer">Forget Password</a>
            
            <button  [disabled]="loginForm.invalid || isLoading" type="submit" class="btn-main d-block ms-auto mt-2">
                login
                @if(isLoading){
                   <i class="fas fa-spin fa-spinner"></i>
                }
               </button>

    

          </div>

           



  </div>
  </form>


</section>
