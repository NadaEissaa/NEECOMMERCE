<Section class="m-5">
    <h1 class="text-main fw-bold h3 my-3">Forgot Password</h1>

    @if(step == 1){
        
    <form [formGroup]="verifyEmail" (ngSubmit)="SubmitverifyEmail()">
        <label for="email" class="top-40 position-relative transitionss" [class.top-40]="!verifyEmail.get('email')?.value?.length">Email:</label>
        <input type="email" class="form-control shadow-none border-top-0 border-start-0 border-end-0 position-relative" formControlName="email" placeholder="Email"  [ngClass]="{
            'is-invalid':verifyEmail.get('email')?.errors && (verifyEmail.get('email')?.touched || verifyEmail.get('email')?.dirty),
            'is-valid':!verifyEmail.get('email')?.errors && (verifyEmail.get('email')?.touched || verifyEmail.get('email')?.dirty)
        }">

        @if(verifyEmail.get('email')?.errors && (verifyEmail.get('email')?.touched || verifyEmail.get('email')?.dirty) ){
            @if(verifyEmail.get('email')?.getError('required')){
                  <p class="text-danger fw-bold text-capitalize mx-1">Email is required</p>
            }
            @else if (verifyEmail.get('email')?.getError('email')) {
                <p class="text-danger fw-bold text-capitalize mx-1">Enter a valid email</p>
            }
           
        }
        <button class="btn-main mt-3" [disabled]="verifyEmail.invalid"> Verify Email </button>

    </form>

    }

    @else if (step == 2) {
        <form [formGroup]="verifyCode" (ngSubmit)="SubmitverifyCode()">
            <label for="resetCode" class="top-40 position-relative transitionss" [class.top-40]="!verifyCode.get('resetCode')?.value?.length">resetCode:</label>
            <input type="text" class="form-control shadow-none border-top-0 border-start-0 border-end-0 position-relative" formControlName="resetCode" placeholder="resetCode"  [ngClass]="{
                'is-invalid':verifyCode.get('resetCode')?.errors && (verifyCode.get('resetCode')?.touched || verifyCode.get('resetCode')?.dirty),
                'is-valid':!verifyCode.get('resetCode')?.errors && (verifyCode.get('resetCode')?.touched || verifyCode.get('resetCode')?.dirty)
            }">
    
            @if(verifyCode.get('resetCode')?.errors && (verifyCode.get('resetCode')?.touched || verifyCode.get('resetCode')?.dirty) ){
                @if(verifyCode.get('resetCode')?.getError('required')){
                      <p class="text-danger fw-bold text-capitalize mx-1">Email is required</p>
                }
                @else if (verifyCode.get('resetCode')?.getError('pattern')) {
                    <p class="text-danger fw-bold text-capitalize mx-1">Enter a valid email</p>
                }
               
            }
            <button class="btn-main mt-3" [disabled]="verifyCode.invalid"> Verify Code </button>
    
        </form>
    

    }

   @else if (step == 3) {
    <form [formGroup]="resetPassword" (ngSubmit)="SetNewPassword()">
        <label for="email" class="top-40 position-relative transitionss" [class.top-40]="!resetPassword.get('email')?.value?.length">Email:</label>
        <input type="email" class="form-control shadow-none border-top-0 border-start-0 border-end-0 position-relative" formControlName="email" placeholder="Email"  [ngClass]="{
            'is-invalid':resetPassword.get('email')?.errors && (resetPassword.get('email')?.touched || resetPassword.get('email')?.dirty),
            'is-valid':!resetPassword.get('email')?.errors && (resetPassword.get('email')?.touched || resetPassword.get('email')?.dirty)
        }">

        @if(resetPassword.get('email')?.errors && (resetPassword.get('email')?.touched || resetPassword.get('email')?.dirty) ){
            @if(resetPassword.get('email')?.getError('required')){
                  <p class="text-danger fw-bold text-capitalize mx-1">Email is required</p>
            }
            @else if (resetPassword.get('email')?.getError('email')) {
                <p class="text-danger fw-bold text-capitalize mx-1">Enter a valid email</p>
            }
           
        }

        <label for="newPassword" class="top-40 position-relative transitionss" [class.top-40]="!resetPassword.get('newPassword')?.value?.length">newPassword:</label>
        <input type="password" class="form-control shadow-none border-top-0 border-start-0 border-end-0 position-relative" formControlName="newPassword" placeholder="newPassword"  [ngClass]="{
            'is-invalid':resetPassword.get('newPassword')?.errors && (resetPassword.get('newPassword')?.touched || resetPassword.get('newPassword')?.dirty),
            'is-valid':!resetPassword.get('newPassword')?.errors && (resetPassword.get('newPassword')?.touched || resetPassword.get('newPassword')?.dirty)
        }">

        @if(resetPassword.get('newPassword')?.errors && (resetPassword.get('newPassword')?.touched || resetPassword.get('newPassword')?.dirty) ){
            @if(resetPassword.get('newPassword')?.getError('required')){
                  <p class="text-danger fw-bold text-capitalize mx-1">Password is required</p>
            }
            @else if (resetPassword.get('newPassword')?.getError('pattern')) {
                <p class="text-danger fw-bold text-capitalize mx-1"></p>
            }
           
        }
        <button class="btn-main mt-3" [disabled]="resetPassword.invalid"> Submit </button>

    </form>

   }


 

</Section>
